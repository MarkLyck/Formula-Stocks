import { getUnixTime, subDays, addDays } from 'date-fns'

const planMock = {
  id: 'weekly-29',
  tiers: null,
  active: true,
  amount: 2900,
  object: 'plan',
  created: 1557937613,
  product: 'prod_weekly-stocktip',
  currency: 'usd',
  interval: 'week',
  livemode: true,
  metadata: {},
  nickname: null,
  tiers_mode: null,
  usage_type: 'licensed',
  amount_decimal: '2900',
  billing_scheme: 'per_unit',
  interval_count: 1,
  aggregate_usage: null,
  transform_usage: null,
  trial_period_days: null,
}

const priceMock = {
  id: 'weekly-stocktip',
  type: 'recurring',
  tiers: null,
  active: true,
  object: 'price',
  created: 1572469084,
  product: 'prod_weekly-stocktip',
  currency: 'usd',
  livemode: true,
  metadata: {},
  nickname: 'weekly-stocktip',
  recurring: {
    interval: 'week',
    usage_type: 'licensed',
    interval_count: 1,
    aggregate_usage: null,
    trial_period_days: null,
  },
  lookup_key: null,
  tiers_mode: null,
  unit_amount: 2900,
  billing_scheme: 'per_unit',
  transform_quantity: null,
  unit_amount_decimal: '2900',
}

export const subscriptionMock = {
  id: 'sub_mock_id',
  plan: planMock,
  items: {
    url: '/v1/subscription_items?subscription=sub_mock_id',
    data: [
      {
        id: 'si_HI18ZoStiVXDpf',
        plan: planMock,
        price: priceMock,
        object: 'subscription_item',
        created: 1589639682,
        metadata: {},
        quantity: 1,
        tax_rates: [],
        subscription: 'sub_mock_id',
        billing_thresholds: null,
      },
    ],
    object: 'list',
    has_more: false,
    total_count: 1,
  },
  object: 'subscription',
  status: 'incomplete',
  created: 1589639681,
  customer: 'cus_mock_id',
  discount: null,
  ended_at: null,
  livemode: true,
  metadata: {},
  quantity: 1,
  schedule: null,
  cancel_at: null,
  trial_end: null,
  start_date: 1589639681,
  canceled_at: null,
  tax_percent: null,
  trial_start: null,
  days_until_due: null,
  default_source: null,
  latest_invoice: 'in_1GjR66EZCuk9aBNOdMD9kxf1',
  pending_update: null,
  pause_collection: null,
  collection_method: 'charge_automatically',
  default_tax_rates: [],
  billing_thresholds: null,
  current_period_end: 1590244481,
  billing_cycle_anchor: 1589639681,
  cancel_at_period_end: false,
  current_period_start: 1589639681,
  pending_setup_intent: null,
  default_payment_method: null,
  application_fee_percent: null,
  pending_invoice_item_interval: null,
  invoice_customer_balance_settings: { consume_applied_balance_on_void: true },
  next_pending_invoice_item_invoice: null,
}

export const subscriptionCanceledMock = {
  id: 'sub_mock_id',
  plan: planMock,
  items: {
    url: '/v1/subscription_items?subscription=sub_mock_id',
    data: [
      {
        id: 'si_HI18ZoStiVXDpf',
        plan: planMock,
        object: 'subscription_item',
        created: 1589639682,
        metadata: {},
        quantity: 1,
        tax_rates: [],
        subscription: 'sub_mock_id',
        billing_thresholds: null,
      },
    ],
    object: 'list',
    has_more: false,
    total_count: 1,
  },
  object: 'subscription',
  status: 'canceled',
  created: 1573375762,
  customer: 'cus_id',
  discount: null,
  ended_at: 1574585362,
  livemode: true,
  metadata: {},
  quantity: 1,
  schedule: null,
  cancel_at: 1574585362,
  trial_end: null,
  start_date: 1573375762,
  canceled_at: 1574287674,
  tax_percent: null,
  trial_start: null,
  days_until_due: null,
  default_source: null,
  latest_invoice: 'in_1FfjRjEZCuk9aBNODf41ASW1',
  collection_method: 'charge_automatically',
  default_tax_rates: [],
  billing_thresholds: null,
  current_period_end: 1574585362,
  billing_cycle_anchor: 1573375762,
  cancel_at_period_end: true,
  current_period_start: 1573980562,
  pending_setup_intent: null,
  default_payment_method: null,
  application_fee_percent: null,
  pending_invoice_item_interval: null,
  invoice_customer_balance_settings: { consume_applied_balance_on_void: true },
  next_pending_invoice_item_invoice: null,
}

export const subscriptionCancelingMock = {
  id: 'sub_mock_id',
  plan: planMock,
  items: {
    url: '/v1/subscription_items?subscription=sub_mock_id',
    data: [
      {
        id: 'si_mock_id',
        plan: planMock,
        object: 'subscription_item',
        created: 1573375763,
        metadata: {},
        quantity: 1,
        tax_rates: [],
        subscription: 'sub_mock_id',
        billing_thresholds: null,
      },
    ],
    object: 'list',
    has_more: false,
    total_count: 1,
  },
  object: 'subscription',
  status: 'canceled',
  created: 1573375762,
  customer: 'cus_id',
  discount: null,
  ended_at: null,
  livemode: true,
  metadata: {},
  quantity: 1,
  schedule: null,
  cancel_at: getUnixTime(addDays(new Date(), 6)), // subscription ending in 6 days
  trial_end: null,
  start_date: 1573375762,
  canceled_at: getUnixTime(subDays(new Date(), 1)), // canceled yesterday
  tax_percent: null,
  trial_start: null,
  days_until_due: null,
  default_source: null,
  latest_invoice: 'in_1FfjRjEZCuk9aBNODf41ASW1',
  collection_method: 'charge_automatically',
  default_tax_rates: [],
  billing_thresholds: null,
  current_period_end: getUnixTime(addDays(new Date(), 6)), // subscription ending in 6 days
  billing_cycle_anchor: 1573375762,
  cancel_at_period_end: true,
  current_period_start: 1573980562,
  pending_setup_intent: null,
  default_payment_method: null,
  application_fee_percent: null,
  pending_invoice_item_interval: null,
  invoice_customer_balance_settings: { consume_applied_balance_on_void: true },
  next_pending_invoice_item_invoice: null,
}
